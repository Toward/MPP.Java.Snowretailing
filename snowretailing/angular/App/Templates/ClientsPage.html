<div class = "container scrollable-table" ng-controller = "ClientController" >
    <h3 class = "text-center">Наши клиенты</h3>
        <div ng-switch on="currentUser.role">
            <div ng-switch-when="ROOT">
                <table class = "table ">
                    <thead>
                        <tr>
                            <td>ФИО</td>
                            <td>Тип документа</td>
                            <td>Серия и номер</td>
                            <td>День рождения</td>
                            <td>Дата выдачи</td>
                            <td>Агенство</td>
                            <td>Личный номер</td>

                            <td>ID пользователя</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat = "client in clients">
                            <td>{{client.surname}}&nbsp;{{client.name}}&nbsp;{{client.patronymyc}}</td>
                            <td>{{client.type}}</td>
                            <td>{{client.series}}&nbsp;{{client.numbers}}</td>
                            <td>{{client.birthday}}</td>
                            <td>{{client.date | date:'yyyy-MM-dd'}}</td>
                            <td>{{client.agency}}</td>
                            <td>{{client.identifier}}</td>
                            <td>{{client.userId}}</td>

                            <td ng-if="currentUser.role == 'ROOT'">
                                <a class="teal-text" ng-click="showModal('edit',client)"><i class="fa fa-pencil"></i></a>
                                <a class="red-text" ng-click="delete(client.id)"><i class="fa fa-times"></i></a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" class="btn btn-info btn-lg" ng-if="currentUser.role == 'ROOT'" ng-click="showModal('create',null)">Create new client</button>
            </div>
        </div>


    <!--Modal-->
    <div class="modal fade" id="modal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4  ng-if="modalMode == 'edit'" class="modal-title">Edit client</h4>
                    <h4  ng-if="modalMode == 'create'" class="modal-title">Create new client</h4>
                </div>
                <div class="modal-body">
                    <label for="inputSurname" class="sr-only">Surname</label>
                    <input type="text" id="inputSurname" class="form-control" placeholder="Surname" required autofocus ng-model ="client.surname">

                    <label for="inputName" class="sr-only">Name</label>
                    <input type="text" id="inputName" class="form-control" placeholder="Name" required ng-model ="client.name">

                    <label for="inputP" class="sr-only">Patronymyc</label>
                    <input type="text" id="inputP" class="form-control" placeholder="Patronymyc" required ng-model ="client.patronymyc">

                    <label for="inputSeries" class="sr-only">PasswSeries</label>
                    <input type="text" id="inputSeries" class="form-control" placeholder="Series" required ng-model ="client.series">

                    <label for="inputNumber" class="sr-only">Number</label>
                    <input type="text" id="inputNumber" class="form-control" placeholder="Number" required ng-model ="client.number">

                    <label for="inputBirthday" class="sr-only">Birthday</label>
                    <input type="text" id="inputBirthday" class="form-control" placeholder="Birthday" required ng-model ="client.birthday">

                    <label for="inputType" class="sr-only">Type</label>
                    <input type="text" id="inputType" class="form-control" placeholder="Type" required ng-model ="client.type">

                    <label for="inputDate" class="sr-only">Date</label>
                    <input type="text" id="inputDate" class="form-control" placeholder="Date" required ng-model ="client.date">

                    <label for="inputAgency" class="sr-only">Agency</label>
                    <input type="text" id="inputAgency" class="form-control" placeholder="Agency" required ng-model ="client.agency">

                    <label for="inputIdentifier" class="sr-only">Identifier</label>
                    <input type="text" id="inputIdentifier" class="form-control" placeholder="Identifier" required ng-model ="client.identifier">

                    <label for="inputUserId" class="sr-only">UserId</label>
                    <input type="text" id="inputUserId" class="form-control" placeholder="UserId" required ng-model ="client.userId">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-if="modalMode == 'edit'" ng-click = "update(client)">Edit</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-if="modalMode == 'create'" ng-click = "create(client)">Create</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>